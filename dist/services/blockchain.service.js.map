{"version":3,"sources":["../../src/services/blockchain.service.ts"],"sourcesContent":["import { Injectable } from '@nestjs/common';\r\nimport Web3 from 'web3';\r\n\r\n@Injectable()\r\nexport class BlockchainService {\r\n  private web3: Web3;\r\n\r\n  constructor() {\r\n    this.web3 = new Web3(new Web3.providers.HttpProvider('https://mainnet.infura.io/v3/YOUR_INFURA_PROJECT_ID'));\r\n  }\r\n\r\n  async getBalance(address: string): Promise<string> {\r\n    const balance = await this.web3.eth.getBalance(address);\r\n    return this.web3.utils.fromWei(balance, 'ether');\r\n  }\r\n\r\n  async sendTransaction(\r\n    from: string, \r\n    to: string, \r\n    value: string, \r\n    privateKey: string\r\n): Promise<any> {\r\n    const tx = {\r\n      from,\r\n      to,\r\n      value: this.web3.utils.toWei(value, 'ether'),\r\n      gas: 21000,\r\n    };\r\n\r\n    const signedTx = await this.web3.eth.accounts.signTransaction(tx, privateKey);\r\n    const receipt = await this.web3.eth.sendSignedTransaction(signedTx.rawTransaction);\r\n    return receipt.transactionHash;\r\n  }\r\n}\r\n"],"names":["BlockchainService","getBalance","address","balance","web3","eth","utils","fromWei","sendTransaction","from","to","value","privateKey","tx","toWei","gas","signedTx","accounts","signTransaction","receipt","sendSignedTransaction","rawTransaction","transactionHash","constructor","Web3","providers","HttpProvider"],"mappings":";;;;+BAIaA;;;eAAAA;;;wBAJc;6DACV;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGV,IAAA,AAAMA,oBAAN,MAAMA;IAOLC,WAAWC,OAAe;;eAAhC,oBAAA;YACE,MAAMC,UAAU,MAAM,MAAKC,IAAI,CAACC,GAAG,CAACJ,UAAU,CAACC;YAC/C,OAAO,MAAKE,IAAI,CAACE,KAAK,CAACC,OAAO,CAACJ,SAAS;QAC1C;;IAEMK,gBACJC,IAAY,EACZC,EAAU,EACVC,KAAa,EACbC,UAAkB;;eAJpB,oBAAA;YAME,MAAMC,KAAK;gBACTJ;gBACAC;gBACAC,OAAO,MAAKP,IAAI,CAACE,KAAK,CAACQ,KAAK,CAACH,OAAO;gBACpCI,KAAK;YACP;YAEA,MAAMC,WAAW,MAAM,MAAKZ,IAAI,CAACC,GAAG,CAACY,QAAQ,CAACC,eAAe,CAACL,IAAID;YAClE,MAAMO,UAAU,MAAM,MAAKf,IAAI,CAACC,GAAG,CAACe,qBAAqB,CAACJ,SAASK,cAAc;YACjF,OAAOF,QAAQG,eAAe;QAChC;;IAzBAC,aAAc;QACZ,IAAI,CAACnB,IAAI,GAAG,IAAIoB,aAAI,CAAC,IAAIA,aAAI,CAACC,SAAS,CAACC,YAAY,CAAC;IACvD;AAwBF"}