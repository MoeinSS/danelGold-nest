{"version":3,"sources":["../../src/nft/nft.controller.ts"],"sourcesContent":["import { Controller, Get, Post, Put, Delete, Body, Param, Req, Query, DefaultValuePipe, ParseIntPipe } from '@nestjs/common';\r\nimport { NFTsService } from '@/nft/nft.service';\r\nimport { MintNFTDto } from './dto/MintNFT.dto';\r\nimport { Request } from 'express';\r\nimport { ApiBearerAuth, ApiTags } from '@nestjs/swagger';\r\n\r\n@ApiTags('NFT')\r\n@ApiBearerAuth()\r\n@Controller('nft')\r\nexport class NFTsController {\r\n  constructor(private readonly nftsService: NFTsService) {}\r\n\r\n  @Post()\r\n  async MintNFT(\r\n    @Req () req: Request,\r\n    @Body() mintNFTDto: MintNFTDto\r\n  ){\r\n    const creatorPhone = (req.user as any).result.phone\r\n    return await this.nftsService.mintNFT(mintNFTDto,creatorPhone);\r\n  }\r\n\r\n  @Delete('/:id')\r\n  async burnNFT(\r\n    @Param('nftId',ParseIntPipe) nftId:number,\r\n    @Req () req:Request\r\n  ){\r\n    const currentOwnerPhone = (req.user as any).result.phone;\r\n    const currentUserRoles = (req.user as any).result.role;\r\n    return await this.nftsService.burnNFT(\r\n      nftId,\r\n      currentOwnerPhone,\r\n      currentUserRoles\r\n    )\r\n  }\r\n\r\n  @Get('/:id')\r\n  async getNFTById(\r\n    @Param('nftId',ParseIntPipe) nftId: number\r\n  ){\r\n    return this.nftsService.getNFTById(nftId);\r\n  }\r\n}\r\n"],"names":["NFTsController","MintNFT","req","mintNFTDto","creatorPhone","user","result","phone","nftsService","mintNFT","burnNFT","nftId","currentOwnerPhone","currentUserRoles","role","getNFTById","constructor"],"mappings":";;;;+BASaA;;;eAAAA;;;wBAT+F;4BAChF;4BACD;yBACH;yBACe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKhC,IAAA,AAAMA,iBAAN,MAAMA;IAILC,QACJ,AAAQC,GAAY,EACpB,AAAQC,UAAsB;;eAHhC,oBAAA;YAKE,MAAMC,eAAe,AAACF,IAAIG,IAAI,CAASC,MAAM,CAACC,KAAK;YACnD,OAAO,MAAM,MAAKC,WAAW,CAACC,OAAO,CAACN,YAAWC;QACnD;;IAGMM,QACJ,AAA6BC,KAAY,EACzC,AAAQT,GAAW;;eAHrB,oBAAA;YAKE,MAAMU,oBAAoB,AAACV,IAAIG,IAAI,CAASC,MAAM,CAACC,KAAK;YACxD,MAAMM,mBAAmB,AAACX,IAAIG,IAAI,CAASC,MAAM,CAACQ,IAAI;YACtD,OAAO,MAAM,MAAKN,WAAW,CAACE,OAAO,CACnCC,OACAC,mBACAC;QAEJ;;IAGME,WACJ,AAA6BJ,KAAa;;eAF5C,oBAAA;YAIE,OAAO,MAAKH,WAAW,CAACO,UAAU,CAACJ;QACrC;;IA9BAK,YAAY,AAAiBR,WAAwB,CAAE;aAA1BA,cAAAA;IAA2B;AA+B1D"}