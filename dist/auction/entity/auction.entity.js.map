{"version":3,"sources":["../../../src/auction/entity/auction.entity.ts"],"sourcesContent":["import { ApiProperty } from '@nestjs/swagger';\r\nimport { NFT } from '@/nft/entity/nft.entity';\r\nimport { User } from '@/user/entity/user.entity';\r\nimport { Entity, PrimaryGeneratedColumn, Column, ManyToOne, CreateDateColumn, UpdateDateColumn, Relation, OneToMany, JoinColumn } from 'typeorm';\r\nimport { Bid } from './auctionBid.entity';\r\n\r\nexport enum AuctionStatus {\r\n  Active = 'active',\r\n  Deactive = 'deactive'\r\n}\r\n\r\n@Entity({ name: 'auctions' })\r\nexport class Auction {\r\n  @PrimaryGeneratedColumn()\r\n  id: number;\r\n\r\n  @Column({ type: 'varchar' })\r\n  title: string;\r\n\r\n  @Column({ type: 'timestamptz' })\r\n  startTime: Date;\r\n\r\n  @Column({ type: 'timestamptz' })\r\n  endTime: Date;\r\n\r\n  @Column('decimal', { precision: 18, scale: 8 })\r\n  startingBid: number;\r\n\r\n  @Column('decimal', { precision: 18, scale: 8 })\r\n  currentBid: number;\r\n\r\n  @Column('enum', {\r\n    enum: AuctionStatus,\r\n    default: AuctionStatus.Active\r\n  })\r\n  auctionStatus: AuctionStatus;\r\n\r\n  @Column({ type: 'boolean', default: false, nullable: true })\r\n  isSms: boolean | null;\r\n\r\n  @CreateDateColumn({ type: 'timestamptz' })\r\n  createdAt: Date;\r\n\r\n  @UpdateDateColumn({ type: 'timestamptz', nullable: true })\r\n  updatedAt: Date;\r\n\r\n  @OneToMany(() => Bid, (bid) => bid.auction)\r\n  @ApiProperty({ type: () => [Bid] })\r\n  bids: Relation<Bid[]>;\r\n\r\n  @ManyToOne(() => NFT, (nft) => nft.auctions)\r\n  @ApiProperty({ type: () => NFT })\r\n  nft: Relation<NFT>;\r\n\r\n  @ManyToOne(() => User, (creator) => creator.auctions)\r\n  @ApiProperty({ type: () => User })\r\n  creator: Relation<User>;\r\n\r\n  @ManyToOne(() => User, { nullable: true })\r\n  @JoinColumn({ name: 'highestBidderPhone', referencedColumnName: 'phone' })\r\n  @ApiProperty({ type: () => User })\r\n  highestBidder: Relation<User>;\r\n\r\n}\r\n"],"names":["Auction","AuctionStatus","type","precision","scale","enum","default","nullable","Bid","bid","auction","NFT","nft","auctions","User","creator","name","referencedColumnName"],"mappings":";;;;;;;;;;;IAYaA,OAAO;eAAPA;;;;;;yBAZe;2BACR;4BACC;yBACkH;kCACnH;;;;;;;;;;;UAERC;;;GAAAA,kBAAAA;AAML,IAAA,AAAMD,UAAN,MAAMA;AAmDb;;;;;;;QA/CYE,MAAM;;;;;;QAGNA,MAAM;;;;;;QAGNA,MAAM;;;;;;QAGKC,WAAW;QAAIC,OAAO;;;;;;QAGtBD,WAAW;QAAIC,OAAO;;;;;;QAIzCC,MAAMJ;QACNK,OAAO;;;;;;QAICJ,MAAM;QAAWI,SAAS;QAAOC,UAAU;;;;;;QAGjCL,MAAM;;;;;;QAGNA,MAAM;QAAeK,UAAU;;;;;gCAGlCC,qBAAG,GAAGC,MAAQA,IAAIC,OAAO;;QAC3BR,MAAM,IAAM;gBAACM,qBAAG;aAAC;;;;;gCAGfG,cAAG,GAAGC,MAAQA,IAAIC,QAAQ;;QAC5BX,MAAM,IAAMS,cAAG;;;;;gCAGbG,gBAAI,GAAGC,UAAYA,QAAQF,QAAQ;;QACrCX,MAAM,IAAMY,gBAAI;;;;;gCAGdA,gBAAI;QAAIP,UAAU;;;QACrBS,MAAM;QAAsBC,sBAAsB;;;QACjDf,MAAM,IAAMY,gBAAI;;;;;;QAjDvBE,MAAM"}